<div class="row">
    <div class="col-md-12">
        <h1>Family Information <span>Form</span></h1>
    </div>
</div>

<div class="row">
    <div class="col-md-12"></div>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="t-basic-form t-form">
            <form [formGroup]="familyInfoForm">
                <div class="row">
                    <div class="col-md-6">
                        <mat-form-field class="t-full-width">
                            <mat-label> Employee </mat-label>
                            <mat-select formControlName="employeeId">
                                <mat-form-field class="example-full-width">
                                    <input matInput placeholder="Search Employee" autocomplete="off"
                                        (keyup)="onEmployeeFilter($event)"
                                        (keydown)="$event.stopPropagation()" />
                                </mat-form-field>
                                <mat-option *ngFor="let employee of filteredEmployees | slice: 0:10" [value]="employee.id">
                              <small>
                                {{ employee.name }}
                              </small>
                            </mat-option>
                            </mat-select>
                            <mat-error *ngIf="familyInfoForm.controls['employeeId'].hasError('required')">
                                Employee is <strong>required</strong>
                              </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="t-full-width">
                            <mat-label>
                                Name
                                <span class="required">*</span>
                            </mat-label>
                            <input matInput formControlName="familyMemberName" placeholder="Enter Name" />
                            <mat-error *ngIf="familyInfoForm.controls['familyMemberName'].hasError('required')">
                                Name is <strong>required</strong>
                            </mat-error>
                            <mat-error *ngIf="familyInfoForm.controls['familyMemberName'].hasError('maxlength')">
                                Name max length is <strong>20</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="t-full-width" appearance="outline">
                          <mat-label>
                            Date of Birth
                            <span class="required">*</span>
                          </mat-label>
                          <input
                            matInput
                            [matDatepicker]="birthDatePicker"
                            [max]="today"
                            formControlName="dob"
                            placeholder="Enter Birth Date"
                            name="dob"
                            (dateChange)="dateChange('change', $event)"
                          />
                          <mat-datepicker-toggle matSuffix [for]="birthDatePicker"></mat-datepicker-toggle>
                          <mat-datepicker #birthDatePicker></mat-datepicker>
                          <mat-error *ngIf="familyInfoForm.controls['dob'].hasError('required')">
                            Birth Date is <strong>required</strong>
                          </mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-6">
                        <mat-label class="mt-1">
                          Gender
                          <span class="required">*</span>
                        </mat-label>
                        <br />
                        <mat-radio-group aria-label="Select Gender" formControlName="genderId">
                          <mat-radio-button *ngFor="let g of genders" [value]="g.value"> {{ g.text }} </mat-radio-button>
                        </mat-radio-group>
                        <mat-error *ngIf="familyInfoForm.controls['genderId'].hasError('required')">
                          Gender is <strong>required</strong>
                        </mat-error>
                      </div>
                      <div class="col-md-6">
                        <mat-label class="mt-1">
                            Relationship
                          <span class="required">*</span>
                        </mat-label>
                        <br />
                        <mat-radio-group aria-label="Select Relationship" formControlName="relationshipId">
                          <mat-radio-button *ngFor="let g of relationShip" [value]="g.value"> {{ g.text }} </mat-radio-button>
                        </mat-radio-group>
                        <mat-error *ngIf="familyInfoForm.controls['relationshipId'].hasError('required')">
                            Relationship is <strong>required</strong>
                        </mat-error>
                      </div>
                      <div class="col-md-6">
                        <mat-form-field class="t-full-width" appearance="outline">
                          <mat-label>
                            Phone
                            <span class="required">*</span>
                          </mat-label>
                          <input matInput formControlName="contactNumber" placeholder="Enter Phone Number " />
                          <mat-error *ngIf="familyInfoForm.controls['contactNumber'].hasError('required')">
                            phone Number is <strong>required</strong>
                          </mat-error>
                          <mat-error
                            *ngIf="
                            familyInfoForm.controls['contactNumber'].hasError('phoneValid') &&
                              !familyInfoForm.controls['contactNumber'].hasError('required')
                            "
                          >
                            Enter valid Phone Number
                          </mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-6">
                        <mat-form-field class="t-full-width">
                            <mat-label>
                                Profession name
                                <span class="required">*</span>
                            </mat-label>
                            <input matInput formControlName="profession" placeholder="Enter your Profession name" />
                            <mat-error *ngIf="familyInfoForm.controls['profession'].hasError('required')">
                                Profession Name is <strong>required</strong>
                            </mat-error>
                           
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="t-full-width">
                            <mat-label>
                               Nationality
                                <span class="required">*</span>
                            </mat-label>
                            <input matInput formControlName="nationalityId" placeholder="  Nationality" />
                            <mat-error *ngIf="familyInfoForm.controls['nationalityId'].hasError('required')">
                                Nationality is <strong>required</strong>
                            </mat-error>
                          
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="t-full-width">
                            <mat-label>
                                Address
                                <span class="required">*</span>
                            </mat-label>
                            <input matInput formControlName="address" placeholder="Enter your address" />
                            <mat-error *ngIf="familyInfoForm.controls['address'].hasError('required')">
                                Address is <strong>required</strong>
                            </mat-error>
                          
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="t-full-width">
                            <mat-label>
                                Emergency Contact
                                <span class="required">*</span>
                            </mat-label>
                            <input matInput formControlName="emergencyContact" placeholder="Emergency contact" />
                            <mat-error *ngIf="familyInfoForm.controls['emergencyContact'].hasError('required')">
                                Emergency Contact is <strong>required</strong>
                            </mat-error>
                           
                        </mat-form-field>
                    </div>
                      
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <button class="btn btn-secondary t-mat-raised-button" mat-raised-button
                            (click)="reset()">Reset</button>
                        <button class="btn btn-secondary t-mat-raised-button" mat-raised-button
                            (click)="clearState()">clear</button>
                        <button mat-raised-button color="primary" (click)="save()"
                            class="btn btn-primary t-mat-raised-button">
                            {{ isEdit ? "Update" : "Add" }}
                        </button>
                    </div>
                </div>
            </form>

        </div>
    </div>
    <!-- <div class="col-md-4">
      <div class="div-pre">
        <p *ngIf="errors">errors</p>
        {{errors | json}}
        <p>Instant Value</p>
        {{ employeesForm.getRawValue() | json }}
  
        <p>Last Submit Value</p>
        {{ employeesFormValue | json }}
      </div>
    </div> -->
</div>